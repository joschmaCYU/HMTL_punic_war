<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grille 10x10</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            width: 500px;
            height: 500px;
            border: 1px solid #ccc;
        }
        .cell {
            border: 1px solid transparent; /* Invisible borders */
        }
    </style>
</head>
<body>
    <div id="player1-info" style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 20%; text-align: left;">
        <h3>Troupes Joueur 1</h3>
        <ul id="player1-troop-info"></ul>
    </div>

    <div class="grid">
    </div>

    <div id="player2-info" style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 20%; text-align: right;">
        <h3>Troupes Joueur 2</h3>
        <ul id="player2-troop-info"></ul>
    </div>

    <script>
        // Récupérer les positions des troupes depuis localStorage
        const troopPositions = JSON.parse(localStorage.getItem('troopPositions')) || {};
        const playerTroops = JSON.parse(localStorage.getItem('playerTroops')) || {};

        const player1Info = document.getElementById('player1-troop-info');
        const player2Info = document.getElementById('player2-troop-info');

        // Afficher les troupes et leurs positions pour chaque joueur
        Object.entries(troopPositions).forEach(([position, troopId]) => {
            const troopName = playerTroops[troopId];
            const listItem = document.createElement('li');
            listItem.textContent = `${troopName} en position ${position}`;

            if (troopId.startsWith('player1')) {
                player1Info.appendChild(listItem);
            } else if (troopId.startsWith('player2')) {
                player2Info.appendChild(listItem);
            }
        });

        // Initialisation de la grille
        const grid = document.querySelector('.grid');
        for (let row = 0; row < 10; row++) {
            for (let col = 0; col < 10; col++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.row = row;
                cell.dataset.col = col;

                // Vérifier si une troupe est placée sur cette case
                const positionKey = `${row}-${col}`;
                if (troopPositions[positionKey]) {
                    const troopId = troopPositions[positionKey];
                    const troopName = playerTroops[troopId];

                    // Ajouter une représentation visuelle de la troupe
                    const troopElement = document.createElement('div');
                    troopElement.textContent = troopName;
                    troopElement.style.backgroundColor = troopId.startsWith('player1') ? '#007BFF' : '#FF5733';
                    troopElement.style.color = 'white';
                    troopElement.style.textAlign = 'center';
                    troopElement.style.fontSize = '12px';
                    troopElement.style.padding = '5px';
                    troopElement.style.borderRadius = '5px';

                    cell.appendChild(troopElement);
                }

                grid.appendChild(cell);
            }
        }
    </script>
</body>
</html>